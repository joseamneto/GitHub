@using System.Web.Mvc.Html
@inherits System.Web.Mvc.WebViewPage<Sitecore.DeploymentToolKit.ContentChecker.ContentCheckerViewModel>



<!DOCTYPE html>
<html lang="en">
<head>
    <title>ContentCheckerList </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.js"> </script>
    <script type="text/javascript">
    
    function SecondCheck() {
        $.ajax({
            url: "/api/sitecore/",
            type: "POST",
            context: this,
            data: { scController: "ContentChecker", scAction: "SecondCheck" },

            success: function (data) {

                $("#contentCheckerTable").html(data);
                console.log("success", data);

            },
            error: function (data) {
                console.log("error", data);
                $("#errormsg").html(data);
                alert("error");
            }
        });
    }
    function BaselineCheck() {
        $.ajax({
            url: "/api/sitecore/",
            type: "POST",
            context: this,
            data: { scController: "ContentChecker", scAction: "BaselineCheck" },

            success: function (data) {

                $("#contentCheckerTable").html(data);
                console.log("success", data);

            },
            error: function (data) {
                console.log("error", data);
                $("#errormsg").html(data);
                alert("error");
            }
        });
    }
    function AddKey() {
        $.ajax({
            url: "/api/sitecore/",
            type: "POST",
            context: this,
            data: { scController: "ContentChecker", scAction: "AddKey", key: $("#txtkey").val() },

            success: function (data) {

                $("#contentCheckerTable").html(data);
                console.log("success", data);

            },
            error: function (data) {
                console.log("error", data);
                $("#errormsg").html(data);
                alert("error");
            }
        });
    }
    function AddUrl() {
        {
            $.ajax({
                url: "/api/sitecore/",
                type: "POST",
                context: this,
                data: { scController: "ContentChecker", scAction: "AddUrl", url: $("#urltxt").val() },

                success: function (data) {
                    $("#contentCheckerTable").html(data);
                    console.log("success", data);
                },
                error: function (data) {
                    console.log("error", data);
                    $("#errormsg").html(data);
                    alert("error");
                }
            });
        }
}
    function Remove(param) {
        $.ajax({
            url: "/api/sitecore/",
            type: "POST",
            context: this,
            data: { scController: "ContentChecker", scAction: "RemoveUrl", param1: param },

            success: function (data) {
                $("#contentCheckerTable").html(data);
                console.log("success", data);
            },
            error: function (data) {
                console.log("error", data);
                $("#errormsg").html(data);
                alert("error");
            }
        });
    }
    </script>
</head>
<body>

@Html.Partial("~/Views/Shared/DeploymentToolKitNavigation.cshtml")

<div class="container theme-showcase" role="main">
    <div class="jumbotron">
        <h1>Content Checker</h1>
        <p>With this content checker tool, you are able to save the Content in a moment, and compare later after a change.This helps you to keep the quality of your deployment</p>
        <p>Sitecore JSS must be enabled</p>
        <p>1)Download and istall JSS Package <a href="https://dev.sitecore.net/Downloads/Sitecore_JavaScript_Services/90_Tech_Preview/Sitecore_JavaScript_Services_90_Update_1_Tech_Preview.aspx">Here</a></p>
        <p>2)Add the configuration on the web.config as instructed on the Package installer</p>
        <p>Configure this tool : Open the File Z.DeploymentToolkit.config and configure the fields : JssUrl, MainDir</p>
    </div>
    
     @Html.Partial("~/Views/Shared/ContentCheckerResultTable.cshtml", Model)

    <p id="errormsg"></p>
</div>
</body>
</html>
<hr/>


               

